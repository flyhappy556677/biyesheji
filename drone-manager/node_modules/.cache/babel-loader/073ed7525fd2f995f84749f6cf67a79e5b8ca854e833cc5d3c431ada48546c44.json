{"ast":null,"code":"export default {\n  data() {\n    return {\n      form: {},\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    load() {\n      const id = this.$route.query.id;\n      this.request.get(\"/buyorder/\" + id).then(res => {\n        this.form = res.data;\n        this.form.droneName = res.data.name;\n        // Add user information to the form object\n        this.form.userId = this.user.id;\n        this.form.userName = this.user.username;\n        this.form.userPhone = this.user.phone;\n      });\n      console.log(this.form);\n    },\n    save() {\n      console.log(this.form);\n      this.request.post(\"/buyorder\", this.form).then(res => {\n        if (res.data) {\n          this.$message.success(\"保存成功\");\n          this.load();\n        } else {\n          this.$message.error(\"保存失败\");\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","form","user","localStorage","getItem","JSON","parse","created","load","methods","id","$route","query","request","get","then","res","droneName","name","userId","userName","username","userPhone","phone","console","log","save","post","$message","success","error"],"sources":["src/views/Operatedrone.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-form :model=\"form\" :rules=\"rules\" ref=\"ruleForm\" :inline=\"true\" style=\"width: 70%\" label-width=\"100px\">\r\n\r\n      <el-form-item label=\"操作用户\" prop=\"userName\">\r\n        <el-input v-model=\"form.userName\" placeholder=\"请输入无人机名称\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"无人机名字\" prop=\"droneName\">\r\n        <el-input v-model=\"form.droneName\" placeholder=\"请输入无人机名字\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"操作地址\" prop=\"departureaddress\">\r\n        <el-input style=\"width:400px\" v-model=\"form.departureaddress\"  placeholder=\"请输入描述\"></el-input>\r\n      </el-form-item>\r\n\r\n\r\n      <el-form-item label=\"飞行时间\" prop=\"createtime\">\r\n        <el-date-picker\r\n            v-model=\"form.createtime\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请输入飞行时间\">\r\n        </el-date-picker>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"飞行高度\" prop=\"height\">\r\n        <el-input style=\"width:400px\" disabled v-model=\"height\" placeholder=\"飞行高度\"></el-input>\r\n        <el-input-number v-model=\"height\"  :step=\"5\" :min=\"0\" :max=\"200\" label=\"飞行高度\"></el-input-number>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"飞行速度\" prop=\"speed\">\r\n        <el-input style=\"width:400px\" disabled v-model=\"speed\" placeholder=\"飞行速度\"></el-input>\r\n        <el-input-number v-model=\"speed\"  :step=\"4\" :min=\"0\" :max=\"50\" label=\"飞行速度\"></el-input-number>\r\n      </el-form-item>\r\n\r\n      <div style=\"text-align:center; margin: top 30px;\">\r\n        <el-button type=\"primary\" @click=\"save\">提交</el-button>\r\n        <el-button type=\"danger\">取消</el-button>\r\n      </div>\r\n\r\n      <div>\r\n        <p>计时器: {{ formattedTime }}</p>\r\n        <p>飞行距离: {{ formattedDistance }} 公里</p>\r\n      </div>\r\n\r\n      <el-button type=\"primary\" @click=\"startTimer\">开始飞行前进速度</el-button>\r\n      <el-button type=\"primary\" @click=\"stopTimer\">停止飞行前进速度</el-button>\r\n    </el-form>\r\n\r\n    <div id=\"firstPage\" style=\"height: 700px; width: 750px;\">\r\n      <div class=\"map\">\r\n\r\n        <el-amap :center=\"center\" :zoom=\"zoom\" id=\"container\" :events=\"events\">\r\n          <el-amap-marker :position=\"center\" :label=\"label\"></el-amap-marker>\r\n        </el-amap>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n    return{\r\n      form:{},\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  methods:{\r\n    load(){\r\n      const id=this.$route.query.id\r\n      this.request.get(\"/buyorder/\"+id).then(res=>{\r\n        this.form=res.data\r\n        this.form.droneName=res.data.name\r\n        // Add user information to the form object\r\n        this.form.userId = this.user.id\r\n        this.form.userName = this.user.username\r\n        this.form.userPhone = this.user.phone\r\n      })\r\n      console.log(this.form)\r\n    },\r\n    save(){\r\n      console.log(this.form)\r\n      this.request.post(\"/buyorder\",this.form).then(res =>{\r\n        if(res.data){\r\n          this.$message.success(\"保存成功\")\r\n          this.load()\r\n        }else{\r\n          this.$message.error(\"保存失败\")\r\n        }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>"],"mappings":"AA8DA;EACAA,KAAA;IACA;MACAC,IAAA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAH,YAAA,CAAAC,OAAA;IACA;EACA;EACAG,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAD,KAAA;MACA,MAAAE,EAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;MACA,KAAAG,OAAA,CAAAC,GAAA,gBAAAJ,EAAA,EAAAK,IAAA,CAAAC,GAAA;QACA,KAAAf,IAAA,GAAAe,GAAA,CAAAhB,IAAA;QACA,KAAAC,IAAA,CAAAgB,SAAA,GAAAD,GAAA,CAAAhB,IAAA,CAAAkB,IAAA;QACA;QACA,KAAAjB,IAAA,CAAAkB,MAAA,QAAAjB,IAAA,CAAAQ,EAAA;QACA,KAAAT,IAAA,CAAAmB,QAAA,QAAAlB,IAAA,CAAAmB,QAAA;QACA,KAAApB,IAAA,CAAAqB,SAAA,QAAApB,IAAA,CAAAqB,KAAA;MACA;MACAC,OAAA,CAAAC,GAAA,MAAAxB,IAAA;IACA;IACAyB,KAAA;MACAF,OAAA,CAAAC,GAAA,MAAAxB,IAAA;MACA,KAAAY,OAAA,CAAAc,IAAA,mBAAA1B,IAAA,EAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAhB,IAAA;UACA,KAAA4B,QAAA,CAAAC,OAAA;UACA,KAAArB,IAAA;QACA;UACA,KAAAoB,QAAA,CAAAE,KAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}