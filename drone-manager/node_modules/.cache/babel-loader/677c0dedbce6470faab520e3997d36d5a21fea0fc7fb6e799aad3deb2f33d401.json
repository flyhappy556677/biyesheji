{"ast":null,"code":"export default {\n  data() {\n    return {\n      form: {},\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    load() {\n      const id = this.$route.query.id;\n      this.request.get(\"/drone/\" + id).then(res => {\n        this.form = res.data;\n        // Add user information to the form object\n        this.form.userId = this.user.id;\n        this.form.userName = this.user.username;\n        this.form.userPhone = this.user.phone;\n      });\n      console.log(this.form);\n    },\n    save() {\n      console.log(this.form);\n      this.request.post(\"/buyorder\", this.form).then(res => {\n        if (res.data) {\n          this.$message.success(\"保存成功\");\n          this.load();\n        } else {\n          this.$message.error(\"保存失败\");\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","form","user","localStorage","getItem","JSON","parse","created","load","methods","id","$route","query","request","get","then","res","userId","userName","username","userPhone","phone","console","log","save","post","$message","success","error"],"sources":["src/views/Detail.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>增加购买记录</h2>\r\n      <el-form :model=\"form\"  :inline=\"true\" style=\"width: 70%\" label-width=\"100px\">\r\n\r\n        <el-form-item label=\"无人机编号\" prop=\"droneNo\">\r\n          <el-input v-model=\"form.droneNo\" disabled placeholder=\"请输入所需编号\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"无人机名称\" prop=\"name\">\r\n          <el-input v-model=\"form.name\" disabled placeholder=\"请输入无人机名称\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"所需积分\" prop=\"score\">\r\n          <el-input v-model=\"form.score\" disabled placeholder=\"请输入所需积分\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"用户ID\" prop=\"userId\">\r\n          <el-input v-model=\"form.userId\" disabled placeholder=\"请输入用户名称\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"用户名称\" prop=\"userName\">\r\n          <el-input v-model=\"form.userName\" disabled placeholder=\"请输入用户名称\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"用户联系方式\" prop=\"userPhone\">\r\n          <el-input v-model=\"form.userPhone\" disabled placeholder=\"请输入用户联系方式\"></el-input>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n    <div style=\"text-align:center; margin-top:30px;\">\r\n      <el-button type=\"primary\" @click=\"save\">提交</el-button>\r\n      <el-button type=\"danger\">取消</el-button>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n export default {\r\n   data(){\r\n     return{\r\n       form:{},\r\n       user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\r\n     }\r\n   },\r\n   created() {\r\n    this.load()\r\n   },\r\n   methods:{\r\n     load(){\r\n       const id=this.$route.query.id\r\n       this.request.get(\"/drone/\"+id).then(res=>{\r\n         this.form=res.data\r\n         // Add user information to the form object\r\n         this.form.userId = this.user.id\r\n         this.form.userName = this.user.username\r\n         this.form.userPhone = this.user.phone\r\n       })\r\n       console.log(this.form)\r\n     },\r\n     save(){\r\n       console.log(this.form)\r\n       this.request.post(\"/buyorder\",this.form).then(res =>{\r\n         if(res.data){\r\n           this.$message.success(\"保存成功\")\r\n           this.load()\r\n         }else{\r\n           this.$message.error(\"保存失败\")\r\n         }\r\n       })\r\n     },\r\n   }\r\n }\r\n</script>"],"mappings":"AAsCA;EACAA,KAAA;IACA;MACAC,IAAA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAH,YAAA,CAAAC,OAAA;IACA;EACA;EACAG,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAD,KAAA;MACA,MAAAE,EAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;MACA,KAAAG,OAAA,CAAAC,GAAA,aAAAJ,EAAA,EAAAK,IAAA,CAAAC,GAAA;QACA,KAAAf,IAAA,GAAAe,GAAA,CAAAhB,IAAA;QACA;QACA,KAAAC,IAAA,CAAAgB,MAAA,QAAAf,IAAA,CAAAQ,EAAA;QACA,KAAAT,IAAA,CAAAiB,QAAA,QAAAhB,IAAA,CAAAiB,QAAA;QACA,KAAAlB,IAAA,CAAAmB,SAAA,QAAAlB,IAAA,CAAAmB,KAAA;MACA;MACAC,OAAA,CAAAC,GAAA,MAAAtB,IAAA;IACA;IACAuB,KAAA;MACAF,OAAA,CAAAC,GAAA,MAAAtB,IAAA;MACA,KAAAY,OAAA,CAAAY,IAAA,mBAAAxB,IAAA,EAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAhB,IAAA;UACA,KAAA0B,QAAA,CAAAC,OAAA;UACA,KAAAnB,IAAA;QACA;UACA,KAAAkB,QAAA,CAAAE,KAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}